schema: '2.0'
stages:
  load_data:
    cmd: python src/data/load_data.py data/raw/iris.csv
    deps:
    - path: src/data/load_data.py
      md5: 54e57ec4eb9c0192b1d311565dc04f06
      size: 629
    outs:
    - path: data/raw/iris.csv
      md5: 53cd1fa405827a87fe3b5768e0a88ade
      size: 3228
  split_data:
    cmd: python .\src\data\split_data.py data/raw/iris.csv data/processed/train_data.csv
      data/processed/train_labels.csv data/processed/test_data.csv data/processed/test_labels.csv
    deps:
    - path: data/raw/iris.csv
      md5: 53cd1fa405827a87fe3b5768e0a88ade
      size: 3228
    - path: src/data/split_data.py
      md5: ac3449d35ee24125c45901ad429ba108
      size: 1126
    outs:
    - path: data/processed/test_data.csv
      md5: ec8cc2a05942eadc8bb17b2e0a0e69d8
      size: 921
    - path: data/processed/test_labels.csv
      md5: a14b578b5699abc569206b6e18237fa8
      size: 258
    - path: data/processed/train_data.csv
      md5: 84126e8c7beddacaf277b8e64c9646f6
      size: 1771
    - path: data/processed/train_labels.csv
      md5: bd3a452fc5458035f6ca8f52311ae47e
      size: 508
  train:
    cmd: python src/model/train.py data/processed/train_data.csv data/processed/train_labels.csv  models/knn.pkl
    deps:
    - path: data/processed/train_data.csv
      md5: 84126e8c7beddacaf277b8e64c9646f6
      size: 1771
    - path: data/processed/train_labels.csv
      md5: bd3a452fc5458035f6ca8f52311ae47e
      size: 508
    - path: src/model/train.py
      md5: 11abb8847e2d764769f22188598fd234
      size: 927
    params:
      params.yaml:
        model.params:
          _target_: sklearn.neighbors.KNeighborsClassifier
          n_neighbors: 5
          algorithm: auto
          leaf_size: 30
          p: 2
    outs:
    - path: models/knn.pkl
      md5: 4cf847df54de376d4dfa4a6eb4a69adc
      size: 9718
  evaluate:
    cmd: python src/model/evaluate.py data/processed/test_data.csv data/processed/test_labels.csv
      models/knn.pkl data/processed/metrics.json
    deps:
    - path: data/processed/test_data.csv
      md5: ec8cc2a05942eadc8bb17b2e0a0e69d8
      size: 921
    - path: data/processed/test_labels.csv
      md5: a14b578b5699abc569206b6e18237fa8
      size: 258
    - path: models/knn.pkl
      md5: 4cf847df54de376d4dfa4a6eb4a69adc
      size: 9718
    - path: src/model/evaluate.py
      md5: f299df025caa8e8b826713d820cc6e69
      size: 836
    outs:
    - path: data/processed/metrics.json
      md5: b5ba27dd8973604ec4cdba0df3a51de9
      size: 26
