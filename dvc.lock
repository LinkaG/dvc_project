schema: '2.0'
stages:
  load_data:
    cmd: python src/data/load_data.py data/raw/iris.csv
    deps:
    - path: src/data/load_data.py
      md5: 54e57ec4eb9c0192b1d311565dc04f06
      size: 629
    outs:
    - path: data/raw/iris.csv
      md5: 53cd1fa405827a87fe3b5768e0a88ade
      size: 3228
  split_data:
    cmd: python .\src\data\split_data.py data/raw/iris.csv data/processed/train_data.csv
      data/processed/train_labels.csv data/processed/test_data.csv data/processed/test_labels.csv
    deps:
    - path: data/raw/iris.csv
      md5: 53cd1fa405827a87fe3b5768e0a88ade
      size: 3228
    - path: src/data/split_data.py
      md5: ac3449d35ee24125c45901ad429ba108
      size: 1126
    outs:
    - path: data/processed/test_data.csv
      md5: ec8cc2a05942eadc8bb17b2e0a0e69d8
      size: 921
    - path: data/processed/test_labels.csv
      md5: a14b578b5699abc569206b6e18237fa8
      size: 258
    - path: data/processed/train_data.csv
      md5: 84126e8c7beddacaf277b8e64c9646f6
      size: 1771
    - path: data/processed/train_labels.csv
      md5: bd3a452fc5458035f6ca8f52311ae47e
      size: 508
  train:
    cmd: python src/model/train.py data/processed/train_data.csv data/processed/train_labels.csv  models/logreg.pkl
    deps:
    - path: data/processed/train_data.csv
      md5: 84126e8c7beddacaf277b8e64c9646f6
      size: 1771
    - path: data/processed/train_labels.csv
      md5: bd3a452fc5458035f6ca8f52311ae47e
      size: 508
    - path: src/model/train.py
      md5: 11abb8847e2d764769f22188598fd234
      size: 927
    params:
      params.yaml:
        model.params:
          _target_: sklearn.linear_model.LogisticRegression
          penalty: l2
          solver: liblinear
    outs:
    - path: models/logreg.pkl
      md5: cf60c0c1cede2a8c091c9326821cff6e
      size: 1363
  evaluate:
    cmd: python src/model/evaluate.py data/processed/test_data.csv data/processed/test_labels.csv
      models/logreg.pkl data/processed/metrics.json
    deps:
    - path: data/processed/test_data.csv
      md5: ec8cc2a05942eadc8bb17b2e0a0e69d8
      size: 921
    - path: data/processed/test_labels.csv
      md5: a14b578b5699abc569206b6e18237fa8
      size: 258
    - path: models/logreg.pkl
      md5: cf60c0c1cede2a8c091c9326821cff6e
      size: 1363
    - path: src/model/evaluate.py
      md5: d5dd03eb0dcc30ecfbe49cde44528363
      size: 1112
    outs:
    - path: data/processed/metrics.json
      md5: ce3618d86a47cfba7d4c112ac4a2d677
      size: 25
